<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Question</title>

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  background: url('WhatsApp Image 2026-02-11 at 1.55.46 PM.jpeg') no-repeat center center;
  background-size: cover;
  background-color: black;
  font-family: 'Arial', sans-serif;
  overflow: hidden;
  position: relative;
}

@media only screen and (max-width: 768px) {
  body { background-size: contain; }
}

h1 {
  color: black;
  text-align: center;
  margin-bottom: 20px;
  font-size: 23px;
  font-family: cursive;
  z-index: 2;
}

button {
  padding: 10px 20px;
  font-size: 12px;
  margin: 10px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s;
  z-index: 2;
  position: relative;
}

button:hover { transform: scale(1.1); }

canvas {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 0;
}

/* Floating hearts */
@keyframes floatUp {
  to { transform: translateY(-110vh); opacity: 0; }
}

/* Screen shake */
@keyframes shake {
  0% { transform: translate(0,0); }
  20% { transform: translate(-5px,5px); }
  40% { transform: translate(5px,-5px); }
  60% { transform: translate(-5px,5px); }
  80% { transform: translate(5px,-5px); }
  100% { transform: translate(0,0); }
}

.shake {
  animation: shake 0.3s infinite;
}
</style>
</head>

<body>

<h1 id="question"></h1>

<div>
  <button id="yesBtn" style="background-color: #ff4d6d; color:white;">Yes</button>
  <button id="noBtn" style="background-color: #ccc; color:black;">No</button>
</div>

<canvas id="fireworksCanvas"></canvas>

<script>

// ================= Typing Effect =================
const text = "Will you be my Valentine? ❤️";
const question = document.getElementById("question");
let index = 0;

function typeEffect() {
  if (index < text.length) {
    question.innerHTML += text.charAt(index);
    index++;
    setTimeout(typeEffect, 80);
  }
}
typeEffect();


// ================= Floating Hearts =================
let heartsInterval = setInterval(floatingHearts, 500);

function floatingHearts() {
  const heart = document.createElement("div");
  heart.innerHTML = "❤️";
  heart.style.position = "absolute";
  heart.style.left = Math.random() * window.innerWidth + "px";
  heart.style.bottom = "-20px";
  heart.style.fontSize = (15 + Math.random() * 25) + "px";
  heart.style.opacity = Math.random();
  heart.style.animation = "floatUp 6s linear forwards";
  heart.style.pointerEvents = "none";
  heart.style.zIndex = "1";

  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}


// ================= Runaway No Button =================
const noBtn = document.getElementById('noBtn');
const yesBtn = document.getElementById('yesBtn');

let yesScale = 1;

noBtn.addEventListener('mouseover', () => {
  const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
  const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);

  noBtn.style.position = "absolute";
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";

  yesScale += 0.2;
  yesBtn.style.transform = `scale(${yesScale})`;
});


// ================= Fireworks =================
const canvas = document.getElementById('fireworksCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let fireworks = [];
let particles = [];
let animationRunning = true;

class Firework {
  constructor(sx, sy, tx, ty) {
    this.x = sx;
    this.y = sy;
    this.sx = sx;
    this.sy = sy;
    this.tx = tx;
    this.ty = ty;
    this.distanceToTarget = distance(sx, sy, tx, ty);
    this.distanceTraveled = 0;
    this.angle = Math.atan2(ty - sy, tx - sx);
    this.speed = 3;
    this.acceleration = 1.05;
  }

  update(index) {
    this.speed *= this.acceleration;
    let vx = Math.cos(this.angle) * this.speed;
    let vy = Math.sin(this.angle) * this.speed;

    this.distanceTraveled = distance(this.sx, this.sy, this.x + vx, this.y + vy);

    if (this.distanceTraveled >= this.distanceToTarget) {
      createParticles(this.tx, this.ty);
      fireworks.splice(index, 1);
    } else {
      this.x += vx;
      this.y += vy;
    }
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
    ctx.fillStyle = "pink";
    ctx.fill();
  }
}

class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.angle = Math.random() * 2 * Math.PI;
    this.speed = Math.random() * 5 + 2;
    this.alpha = 1;
    this.decay = 0.02;
  }

  update(index) {
    this.x += Math.cos(this.angle) * this.speed;
    this.y += Math.sin(this.angle) * this.speed;
    this.alpha -= this.decay;
    if (this.alpha <= 0) particles.splice(index, 1);
  }

  draw() {
    ctx.globalAlpha = this.alpha;
    ctx.font = "20px Arial";
    ctx.fillText("❤️", this.x, this.y);
    ctx.globalAlpha = 1;
  }
}

function distance(aX, aY, bX, bY){
  const x = bX - aX;
  const y = bY - aY;
  return Math.sqrt(x*x + y*y);
}

function createParticles(x, y){
  for(let i=0;i<25;i++){
    particles.push(new Particle(x, y));
  }
}

function loop(){
  if(!animationRunning) return;
  requestAnimationFrame(loop);
  ctx.clearRect(0,0,canvas.width,canvas.height);

  let i = fireworks.length;
  while(i--){
    fireworks[i].draw();
    fireworks[i].update(i);
  }

  i = particles.length;
  while(i--){
    particles[i].draw();
    particles[i].update(i);
  }
}
loop();


// ================= Yes Button =================
yesBtn.addEventListener('click', ()=>{

  document.body.classList.add("shake");

  const interval = setInterval(()=>{
    const startX = canvas.width/2;
    const startY = canvas.height;
    const targetX = Math.random()*canvas.width;
    const targetY = Math.random()*canvas.height/2;
    fireworks.push(new Firework(startX,startY,targetX,targetY));
  },200);

  setTimeout(()=>{
    clearInterval(interval);
    clearInterval(heartsInterval);
    animationRunning = false;
    document.body.classList.remove("shake");

    setTimeout(()=>{
      window.location.href = "quotes.html";
    },500);

  },4000);
});


// Resize
window.addEventListener('resize', ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

</script>

</body>
</html>

</body>
</html>


